/* ====== –ë–ê–ó–ê / –¢–ï–ú–ê (—Ç—ë–º–Ω–æ-–∑–æ–ª–æ—Ç–æ–π) ====== */
:root{
  --bg-1: #0c0b09;
  --bg-2: #14120f;
  --gold-1: #f0c44a;
  --gold-2: #cfa53b;
  --gold-3: #8e6c2a;
  --text: #f6f6f6;
  --muted: #cfcfcf;
  --line: rgba(255, 214, 120, .22);
  --card: rgba(20,18,15,.72);
  --shadow: 0 10px 30px rgba(0,0,0,.5);
  --radius-lg: 16px;
  --radius-md: 12px;
  --radius-sm: 10px;

  /* ‚úÖ –†–∞–∑–º–µ—Ä –º–æ–Ω–µ—Ç—ã: –º–µ–Ω—è–π—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 190px / 210px) */
  --coin-size: 200px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  font-family: system-ui, -apple-system, "Inter", "Roboto", Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 20% -10%, #1c170e 0%, transparent 60%),
    radial-gradient(900px 700px at 100% 0%, #1a140c 0%, transparent 60%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* ====== –®–ê–ü–ö–ê ====== */
#top-bar{
  position: sticky; top: 0; z-index: 20;
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: center;
  gap: 10px;
  padding: 14px 15px;
  background: linear-gradient(180deg, rgba(34,28,18,.95), rgba(20,18,15,.92));
  border-bottom: 1px solid var(--line);
  backdrop-filter: blur(6px);
  box-shadow: var(--shadow);
}

#tg-username{ justify-self: start; font-size: 15px; opacity: .9; }
#game-title{
  justify-self: center; font-size: 20px; font-weight: 800;
  letter-spacing: .12em; text-transform: uppercase;
  background: linear-gradient(90deg, var(--gold-1), var(--gold-2));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 20px rgba(240,196,74,.2);
}
#player-id{
  justify-self: end; font-size: 13px; font-weight: 700;
  padding: 6px 10px; border-radius: var(--radius-sm);
  background: linear-gradient(145deg, rgba(240,196,74,.18), rgba(207,165,59,.10));
  border: 1px solid var(--line);
}

/* ====== –°–ß–Å–¢ –°–ü–†–ê–í–ê ====== */
#score-top{
  position: fixed; top: 79px; right: 150px; z-index: 19;
  display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: linear-gradient(145deg, rgba(240,196,74,.18), rgba(207,165,59,.10));
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}
.coin-icon{ width: 22px; height: 22px; border-radius: 50%; object-fit: cover; }

/* ====== –≠–ö–†–ê–ù–´ ====== */
#screens{ padding: 120px 16px 96px; }
.tab-content{ display: none; animation: slideIn .25s ease both; }
.tab-content.active{ display: block; }
@keyframes slideIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

/* ====== –°–ï–ö–¶–ò–ò / –ö–ê–†–¢–û–ß–ö–ò ====== */
.section{ display: grid; gap: 16px; }
.section-title{ margin: 4px 2px; font-size: 18px; font-weight: 800; letter-spacing: .04em; color: var(--text); }

.card{
  background: linear-gradient(180deg, rgba(24,21,17,.86), rgba(18,16,13,.86));
  border: 1px solid var(--line);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
  padding: 14px;
}
.card.center{ text-align: center; }
.card-title{ margin: 0 0 8px; font-size: 16px; font-weight: 800; color: var(--text); }
.card-text{ margin: 6px 0 12px; color: var(--muted); }
.progress-line{ margin: 6px 0 8px; color: var(--muted); }

.stack{ display: grid; gap: 10px; }
.gap-lg{ display: grid; gap: 16px; }
.divider{ height: 1px; background: linear-gradient(90deg, transparent, var(--line), transparent); margin: 4px 6px; }

/* ====== –ö–ù–û–ü–ö–ò ====== */
.btn{
  appearance: none; border: none; cursor: pointer;
  padding: 12px 16px; border-radius: 14px; font-weight: 800; font-size: 14px;
  transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
  box-shadow: 0 4px 14px rgba(0,0,0,.35);
}
.btn:active{ transform: translateY(1px) scale(.99); }
.btn-primary{
  background: linear-gradient(145deg, var(--gold-1), var(--gold-2));
  color: #1a1a1a; border: 1px solid rgba(255,215,128,.6);
}
.btn-primary:hover{ box-shadow: 0 8px 20px rgba(240,196,74,.35); }
.btn-secondary{
  background: linear-gradient(145deg, rgba(240,196,74,.18), rgba(207,165,59,.10));
  color: var(--text); border: 1px solid var(--line); backdrop-filter: blur(6px);
}
.btn-secondary:hover{ box-shadow: 0 8px 20px rgba(240,196,74,.2); }
.btn-claim{
  background: linear-gradient(145deg, #ffe08a, #ffd258);
  color: #1a1a1a; border: 1px solid rgba(255,215,128,.7);
}
.btn-claim:hover{ box-shadow: 0 8px 20px rgba(255,230,160,.35); }
.actions{ display: flex; gap: 10px; flex-wrap: wrap; }

/* ====== CHIP ====== */
.chip{
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 12px; border-radius: 999px;
  background: linear-gradient(145deg, rgba(240,196,74,.18), rgba(207,165,59,.10));
  border: 1px solid var(--line);
  font-weight: 700;
}
.chip-strong{ background: linear-gradient(145deg, rgba(240,196,74,.26), rgba(207,165,59,.18)); }

/* ====== GAME ====== */
#battle-area{ margin: 10px auto 0; position: relative; display: grid; place-items: center; }
.coin{
  width: var(--coin-size); height: var(--coin-size); border-radius: 50%;
  background-image: url('foto/sticker.jpg');
  background-size: cover; background-position: center;
  box-shadow: 0 12px 28px rgba(0,0,0,.55), inset 0 0 40px rgba(240,196,74,.15);
  transition: transform .1s ease;
  border: 1px solid rgba(240,196,74,.25);
}
.animate-coin{ transform: scale(.86); }

/* –ú–æ–Ω–µ—Ç–∫–∏-—á–∞—Å—Ç–∏—Ü—ã (efe.jpg) */
.mini-coin{
  position: absolute; left: 50%; top: 50%;
  width: 18px; height: 18px; border-radius: 50%;
  background-image: url('foto/efe.jpg'); background-size: cover; background-position: center;
  opacity: 0;
  transform: translate(-50%, -50%) scale(.6) rotate(0deg);
  animation: burst var(--dur) ease-out forwards;
  pointer-events: none;
  filter: drop-shadow(0 6px 8px rgba(0,0,0,.45));
}
@keyframes burst{
  0%   { opacity: 1; transform: translate(-50%, -50%) scale(.6) rotate(0deg); }
  80%  { opacity: 1; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1) rotate(var(--rot)); }
  100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(.9) rotate(var(--rot)); }
}

.plus-one{
  position: absolute; font-size: 30px; font-weight: 900;
  background: linear-gradient(90deg, #ffe08a, #ffd258);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  opacity: 0; transition: opacity .4s ease, transform .4s ease;
  pointer-events: none; top: 50%; left: 50%; transform: translate(-50%,-50%);
}

#tap-health{ margin: 2px auto 0; }

/* ====== –§–û–†–ú–´ ====== */
.row{ display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; }
input[type="text"]{
  padding: 12px 14px; font-size: 16px; color: var(--text);
  border-radius: var(--radius-md); border: 1px solid var(--line);
  background: linear-gradient(145deg, rgba(240,196,74,.12), rgba(207,165,59,.08));
  outline: none; transition: box-shadow .15s ease, border-color .15s ease;
}
input[type="text"]:focus{ box-shadow: 0 0 0 3px rgba(240,196,74,.15); border-color: rgba(240,196,74,.5); }

/* ====== –°–ü–ò–°–ö–ò ====== */
.invited-list{ list-style: none; padding: 0; margin: 4px 0 0; display: grid; gap: 8px; }
.invited-list li{
  background: linear-gradient(145deg, rgba(240,196,74,.10), rgba(207,165,59,.06));
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  padding: 10px 12px; display: flex; justify-content: space-between; gap: 8px;
  font-size: 14px; color: var(--text); overflow-wrap: anywhere;
}

/* ====== –°–¢–ê–¢–£–°–´ / –¢–ï–ö–°–¢ ====== */
.status-line{ margin: 6px 0 0; color: var(--gold-1); }
.soon{ font-size: 18px; letter-spacing: .08em; color: var(--muted); }

/* ====== –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ ====== */
.menu{
  position: fixed; left: 12px; right: 12px; bottom: 12px; z-index: 30;
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;
  padding: 10px;
  background: linear-gradient(180deg, rgba(24,21,17,.92), rgba(18,16,13,.92));
  border: 1px solid var(--line);
  border-radius: 18px; backdrop-filter: blur(6px); box-shadow: var(--shadow);
}
.menu .tab{
  padding: 12px 10px; border-radius: 14px;
  background: linear-gradient(145deg, rgba(240,196,74,.12), rgba(207,165,59,.08));
  color: var(--text);
  border: 1px solid var(--line);
  font-weight: 800; font-size: 14px; cursor: pointer;
  transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
  box-shadow: 0 4px 14px rgba(0,0,0,.3);
}
.menu .tab:hover{ transform: translateY(-1px); box-shadow: 0 8px 20px rgba(240,196,74,.18); }
.menu .tab.active{
  background: linear-gradient(145deg, var(--gold-1), var(--gold-2));
  color: #1a1a1a;
  border: 1px solid rgba(255,215,128,.7);
  box-shadow: 0 8px 20px rgba(240,196,74,.35);
}

/* =========================
   üî• –ù–û–í–´–ï –≠–§–§–ï–ö–¢–´ –î–õ–Ø –î–û–ë–´–ß–ò
   - –ü—É–ª—å—Å –±–æ–ª—å—à–æ–π –º–æ–Ω–µ—Ç—ã
   - –í—Ç—è–≥–∏–≤–∞–Ω–∏–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–æ–Ω–µ—Ç–æ–∫ –∫ —Ü–µ–Ω—Ç—Ä—É
   ========================= */

/* –ü—É–ª—å—Å–∞—Ü–∏—è –±–æ–ª—å—à–æ–π –º–æ–Ω–µ—Ç—ã (—Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ) */
.coin-pulse {
  animation: coinPulse 1.2s ease-in-out infinite;
}
@keyframes coinPulse {
  0%   { transform: scale(1.00); }
  25%  { transform: scale(0.96); }
  50%  { transform: scale(1.03); }
  75%  { transform: scale(0.97); }
  100% { transform: scale(1.00); }
}

/* ===== –í—Ç—è–≥–∏–≤–∞—é—â–∏–µ—Å—è –º–æ–Ω–µ—Ç–∫–∏ ‚Äî —É—Å–∏–ª–µ–Ω–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å ===== */
.mini-coin-in{
  position: absolute;
  width: 26px; height: 26px;            /* –±—ã–ª–æ 18x18 */
  border-radius: 50%;
  background-image: url('foto/efe.jpg');
  background-size: cover; background-position: center;
  left: var(--sx); top: var(--sy);
  transform: translate(-50%,-50%) scale(0.95);
  opacity: 0;
  pointer-events: none;
  z-index: 5;                            /* –ø–æ–≤–µ—Ä—Ö –±–æ–ª—å—à–æ–π –º–æ–Ω–µ—Ç—ã */
  filter: drop-shadow(0 8px 10px rgba(0,0,0,.55));
  box-shadow: 0 0 10px rgba(240,196,74,.6), 0 0 18px rgba(240,196,74,.35);
  will-change: transform, opacity, left, top;
  animation: flyIn var(--dur, 1.2s) ease-out forwards;
}
.coin{ z-index: 4; }                     /* –±–æ–ª—å—à–∞—è –º–æ–Ω–µ—Ç–∞ –ø–æ–¥ —á–∞—Å—Ç–∏—Ü–∞–º–∏ */

@keyframes flyIn{
  0%   { opacity: 0; transform: translate(-50%,-50%) scale(0.9) rotate(0deg); }
  15%  { opacity: 1; }
  80%  { opacity: 1; }
  100% {
    opacity: 0;
    left: 50%; top: 50%;
    transform: translate(-50%,-50%) scale(0.7) rotate(420deg);
  }
}

/* –ü—É–ª—å—Å–∞—Ü–∏—è –±–æ–ª—å—à–æ–π –º–æ–Ω–µ—Ç—ã (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª—è–ª) */
.coin-pulse{ animation: coinPulse 1.2s ease-in-out infinite; }
@keyframes coinPulse{
  0%{transform:scale(1)}25%{transform:scale(.96)}50%{transform:scale(1.04)}
  75%{transform:scale(.97)}100%{transform:scale(1)}
}